## 1074. 元素和为目标值的子矩阵数量

给出矩阵 matrix 和目标值 target，返回元素总和等于目标值的非空子矩阵的数量。

子矩阵 x1, y1, x2, y2 是满足 x1 <= x <= x2 且 y1 <= y <= y2 的所有单元 matrix[x][y] 的集合。

如果 (x1, y1, x2, y2) 和 (x1', y1', x2', y2') 两个子矩阵中部分坐标不同（如：x1 != x1'），那么这两个子矩阵也不同。



示例 1：


``` 
输入：matrix = [[0,1,0],[1,1,1],[0,1,0]], target = 0
输出：4
解释：四个只含 0 的 1x1 子矩阵。
示例 2：

输入：matrix = [[1,-1],[-1,1]], target = 0
输出：5
解释：两个 1x2 子矩阵，加上两个 2x1 子矩阵，再加上一个 2x2 子矩阵。


```

提示：

1 <= matrix.length <= 300
1 <= matrix[0].length <= 300
-1000 <= matrix[i] <= 1000
-10^8 <= target <= 10^8

通过次数2,134提交次数4,403




自己做两天没有做出来 然后看 参考 LeetCode 上题解 这边的记录自己理解过程

## 解题思路

1. 一行的数前面的和可以使用当前的下标的值保存 记录 matrix[y][x] - matrix[y][x-1]
2. 一行中 x到 xx的所有数的和为 matrix[y][x] - matrix[y][xx -1];
3. 列的问题就需要记录前面计算的值， 里为下面的计算铺路 下面是 记录的前面列的思路 hash 记录前面的值


累加前面的数总和 方便矩阵的高度小 计算大小

#### 例如: 统一矩阵的高度为 4

1: x 到 xx 距离是 4 时的变化

``` 
                                                   ####      
                                     ####          ####
                        ####         ####          ####
            ####        ####         ####          ####

```

             
2: x 到 xx的距离是 3 时的变化

``` 

                                                    ###
                                      ###           ###
                        ###           ###           ###
            ###         ###           ###           ###
```

3: x 到 xx的距离是 2 时的变化


``` 
                                                 ##
                                    ##           ##
                       ##           ##           ##
            ##         ##           ##           ##
```

4: x到xx的距离是1时的变化

``` 
                                            #
                                #           #
                      #         #           #
            #         #         #           #
```

上面高度不停变大的
